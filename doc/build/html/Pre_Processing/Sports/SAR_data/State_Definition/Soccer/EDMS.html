

<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EDMS State Definition &mdash; Open-STAR-Lab v0.1.27 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../../../_static/css/theme.css?v=e59714d7" />

  
      <script src="../../../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script data-url_root="../../../../../" id="documentation_options" src="../../../../../_static/documentation_options.js?v=20192711"></script>
      <script src="../../../../../_static/doctools.js?v=888ff710"></script>
      <script src="../../../../../_static/sphinx_highlight.js?v=4825356b"></script>
    <script src="../../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="Examples" href="../../Example/index.html" />
    <link rel="prev" title="PVS State Definition" href="PVS.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../../index.html" class="icon icon-home">
            Open-STAR-Lab
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">Pre-Processing</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../../index.html">Sports</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../../Event_data/index.html">Event Data</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html">SAR Data</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../../Data_Provider/index.html">Data Providers</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Data_Format/index.html">Data Format</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../index.html">State Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../Example/index.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../Tracking_data/index.html">Tracking Data</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../Event_Modeling/index.html">Event-Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../RLearn_Modeling/index.html">RLearn-Modeling</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../Other/index.html">Other</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Open-STAR-Lab</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../../index.html">Pre-Processing</a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Sports</a></li>
          <li class="breadcrumb-item"><a href="../../index.html">SAR Data</a></li>
          <li class="breadcrumb-item"><a href="../index.html">State Definition</a></li>
          <li class="breadcrumb-item"><a href="index.html">Football/Soccer State Definition</a></li>
      <li class="breadcrumb-item active">EDMS State Definition</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../../../_sources/Pre_Processing/Sports/SAR_data/State_Definition/Soccer/EDMS.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="edms-state-definition">
<h1>EDMS State Definition<a class="headerlink" href="#edms-state-definition" title="Permalink to this heading"></a></h1>
<section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this heading"></a></h2>
<p>EDMS (Expandable Decision-Making State) is an advanced state definition system specialized for sophisticated soccer analysis and complex multi-agent learning scenarios. It provides a three-layer structured state representation containing more detailed information than PVS, numerically expressing the tactical aspects of soccer.</p>
</section>
<section id="data-structure">
<h2>Data Structure<a class="headerlink" href="#data-structure" title="Permalink to this heading"></a></h2>
<p>EDMS has a hierarchical structure composed of three main state levels:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">class</span><span class="w"> </span><span class="nc">State_EDMS</span><span class="p">(</span><span class="n">BaseModel</span><span class="p">):</span>
    <span class="n">relative_state</span><span class="p">:</span> <span class="n">RelativeState</span>  <span class="c1"># Relative state (OnBall/OffBall)</span>
    <span class="n">absolute_state</span><span class="p">:</span> <span class="n">AbsoluteState</span>  <span class="c1"># Absolute state (formation, etc.)</span>
    <span class="n">raw_state</span><span class="p">:</span> <span class="n">RawState</span>           <span class="c1"># Raw state data (same structure as PVS)</span>
</pre></div>
</div>
</section>
<section id="state-level-details">
<h2>State Level Details<a class="headerlink" href="#state-level-details" title="Permalink to this heading"></a></h2>
<section id="relative-state">
<h3>1. Relative State<a class="headerlink" href="#relative-state" title="Permalink to this heading"></a></h3>
<p>Numerical representation of relative relationships between players and ball, goal, and other players:</p>
<p><strong>OnBall (Information of ball-possessing player):</strong></p>
<ul class="simple">
<li><p><strong>dist_ball_opponent</strong>: List of distances between opponent players and ball</p></li>
<li><p><strong>dribble_score</strong>: List of dribble evaluation scores</p></li>
<li><p><strong>dribble_score_vel</strong>: List of dribble scores considering velocity</p></li>
<li><p><strong>dist_goal</strong>: List of distances to goal</p></li>
<li><p><strong>angle_goal</strong>: List of angles to goal</p></li>
<li><p><strong>ball_speed</strong>: Ball velocity</p></li>
<li><p><strong>transition</strong>: List of transition evaluations</p></li>
<li><p><strong>shot_score</strong>: Shot evaluation score</p></li>
<li><p><strong>long_ball_score</strong>: List of long ball evaluation scores</p></li>
</ul>
<p><strong>OffBall (Information of non-ball-possessing players):</strong></p>
<ul class="simple">
<li><p><strong>fast_space</strong>: List of space scores</p></li>
<li><p><strong>fast_space_vel</strong>: List of space scores considering velocity</p></li>
<li><p><strong>dist_ball</strong>: List of distances to ball</p></li>
<li><p><strong>angle_ball</strong>: List of angles to ball</p></li>
<li><p><strong>dist_goal</strong>: List of distances to goal</p></li>
<li><p><strong>angle_goal</strong>: List of angles to goal</p></li>
<li><p><strong>time_to_player</strong>: List of time to reach other players</p></li>
<li><p><strong>time_to_passline</strong>: List of time to reach pass line</p></li>
<li><p><strong>variation_space</strong>: List of space scores when moving in 8 directions</p></li>
<li><p><strong>variation_space_vel</strong>: List of space scores considering velocity when moving in 8 directions</p></li>
<li><p><strong>defense_space</strong>: List of space scores for defensive players</p></li>
<li><p><strong>defense_space_vel</strong>: List of space scores for defensive players considering velocity</p></li>
<li><p><strong>defense_dist_ball</strong>: List of ball distances during defense</p></li>
</ul>
</section>
<section id="absolute-state">
<h3>2. Absolute State<a class="headerlink" href="#absolute-state" title="Permalink to this heading"></a></h3>
<p>Tactical information for the entire team:</p>
<ul class="simple">
<li><p><strong>dist_offside_line</strong>: List of distances to offside line</p></li>
<li><p><strong>formation</strong>: Formation string</p></li>
<li><p><strong>attack_action</strong>: Action list of attacking team</p></li>
<li><p><strong>defense_action</strong>: Action list of defending team</p></li>
</ul>
</section>
<section id="raw-state">
<h3>3. Raw State<a class="headerlink" href="#raw-state" title="Permalink to this heading"></a></h3>
<p>Basic data with the same structure as PVS:</p>
<ul class="simple">
<li><p><strong>ball</strong>: Ball position and velocity information</p></li>
<li><p><strong>players</strong>: List of all players</p></li>
<li><p><strong>attack_players</strong>: List of attacking team players</p></li>
<li><p><strong>defense_players</strong>: List of defending team players</p></li>
</ul>
</section>
</section>
<section id="player-information">
<h2>Player Information<a class="headerlink" href="#player-information" title="Permalink to this heading"></a></h2>
<p>EDMS player information uses the same structure as PVS:</p>
<ul class="simple">
<li><p><strong>index</strong>: Player index</p></li>
<li><p><strong>team_name</strong>: Team name</p></li>
<li><p><strong>player_name</strong>: Player name</p></li>
<li><p><strong>player_id</strong>: Player ID</p></li>
<li><p><strong>player_role</strong>: Player position</p></li>
<li><p><strong>position</strong>: Player position information (x, y coordinates)</p></li>
<li><p><strong>velocity</strong>: Player velocity information</p></li>
<li><p><strong>action</strong>: Player action</p></li>
<li><p><strong>action_probs</strong>: Probability of action occurrence (optional)</p></li>
</ul>
</section>
<section id="action-structure">
<h2>Action Structure<a class="headerlink" href="#action-structure" title="Permalink to this heading"></a></h2>
<p>EDMS adopts a two-dimensional action structure:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">action</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]]</span>  <span class="c1"># [attacking team action, defending team action]</span>
</pre></div>
</div>
<p>This structure enables the following:</p>
<ul class="simple">
<li><p><strong>action[0]</strong>: Action list of each player in the attacking team (attack_action)</p></li>
<li><p><strong>action[1]</strong>: Action list of each player in the defending team (defense_action)</p></li>
<li><p>Expression of tactical coordinated behavior for each team</p></li>
</ul>
</section>
<section id="edms-distinctive-features">
<h2>EDMS Distinctive Features<a class="headerlink" href="#edms-distinctive-features" title="Permalink to this heading"></a></h2>
<section id="advanced-analysis-by-relative-state">
<h3>Advanced Analysis by Relative State<a class="headerlink" href="#advanced-analysis-by-relative-state" title="Permalink to this heading"></a></h3>
<p>The greatest feature of EDMS is detailed analysis through relative state (RelativeState):</p>
<p><strong>Spatial Evaluation System:</strong></p>
<ul class="simple">
<li><p><strong>fast_space</strong>: Numerical representation of player’s reachable area</p></li>
<li><p><strong>variation_space</strong>: Management of reachable areas when multiple players move in 8 directions with 2D arrays</p></li>
<li><p><strong>defense_space</strong>: Evaluation of defensive players’ reachable areas with dedicated indicators</p></li>
</ul>
<p><strong>Integration of Time Elements:</strong></p>
<ul class="simple">
<li><p><strong>time_to_player</strong>: Calculate time to reach other players</p></li>
<li><p><strong>time_to_passline</strong>: Predict time to reach pass line</p></li>
<li><p><strong>Velocity-considered indicators</strong>: Integration of velocity information in many evaluations (indicators with _vel suffix)</p></li>
</ul>
<p><strong>Tactical Insights:</strong></p>
<ul class="simple">
<li><p><strong>dribble_score</strong>: Numerical representation of space scores when moving in 8 directions during ball possession</p></li>
<li><p><strong>shot_score</strong>: Evaluation of shot success probability</p></li>
<li><p><strong>transition</strong>: Evaluation during offensive/defensive transitions</p></li>
<li><p><strong>long_ball_score</strong>: Evaluation of long ball tactics</p></li>
</ul>
</section>
</section>
<section id="data-processing-flow">
<h2>Data Processing Flow<a class="headerlink" href="#data-processing-flow" title="Permalink to this heading"></a></h2>
<p>EDMS has the following processing flow:</p>
<ol class="arabic simple">
<li><p><strong>Raw State Generation</strong>
- Acquire basic position, velocity, and action information same as PVS</p></li>
<li><p><strong>Relative State Calculation</strong>
- Numerical representation of detailed OnBall/OffBall relative relationships
- Calculate various scores and evaluation indicators</p></li>
<li><p><strong>Absolute State Construction</strong>
- Extract formation information
- Calculate offside line distances
- Organize team-level actions</p></li>
<li><p><strong>Integrated State Representation</strong>
- Complete State_EDMS structure integrating three state levels</p></li>
</ol>
</section>
<section id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this heading"></a></h2>
<p>Example of using the EDMS system:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">SAR_data</span> <span class="o">=</span> <span class="n">SAR_data</span><span class="p">(</span>
    <span class="n">data_provider</span><span class="o">=</span><span class="s2">&quot;fifawc&quot;</span><span class="p">,</span>
    <span class="n">state_def</span><span class="o">=</span><span class="s2">&quot;EDMS&quot;</span><span class="p">,</span>         <span class="c1"># Specify EDMS state definition</span>
    <span class="n">data_path</span><span class="o">=</span><span class="n">data_path</span><span class="p">,</span>
    <span class="n">match_id</span><span class="o">=</span><span class="s2">&quot;3814&quot;</span><span class="p">,</span>
    <span class="n">preprocess_method</span><span class="o">=</span><span class="s2">&quot;SAR&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="application-scenarios">
<h2>Application Scenarios<a class="headerlink" href="#application-scenarios" title="Permalink to this heading"></a></h2>
<p>EDMS is optimal for the following advanced applications:</p>
<section id="research-academic-use">
<h3>Research &amp; Academic Use<a class="headerlink" href="#research-academic-use" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Soccer AI Research</strong>: Cutting-edge multi-agent AI research</p></li>
<li><p><strong>Tactical Analysis Research</strong>: Academic-level tactical and strategic analysis</p></li>
<li><p><strong>Sports Science</strong>: Scientific evidence-based player and team analysis</p></li>
</ul>
</section>
<section id="commercial-applications">
<h3>Commercial Applications<a class="headerlink" href="#commercial-applications" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Professional Team Analysis</strong>: Tactical analysis systems for professional soccer teams</p></li>
<li><p><strong>Player Evaluation</strong>: Advanced player performance evaluation</p></li>
<li><p><strong>Tactical Planning Support</strong>: Decision support for coaching and tactical planning</p></li>
</ul>
</section>
<section id="advanced-applications">
<h3>Advanced Applications<a class="headerlink" href="#advanced-applications" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Real-time Analysis</strong>: Live tactical analysis during matches</p></li>
<li><p><strong>Prediction Systems</strong>: High-precision prediction of match results and play outcomes</p></li>
</ul>
</section>
</section>
<section id="technical-specifications">
<h2>Technical Specifications<a class="headerlink" href="#technical-specifications" title="Permalink to this heading"></a></h2>
<section id="computational-complexity">
<h3>Computational Complexity<a class="headerlink" href="#computational-complexity" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>Spatial Calculation</strong>: O(n²) ~ O(n³) complexity (depending on number of players n)</p></li>
<li><p><strong>Probability Calculation</strong>: Multivariate optimization using statistical models</p></li>
<li><p><strong>Real-time Constraints</strong>: High-performance computing environment recommended</p></li>
</ul>
</section>
<section id="memory-requirements">
<h3>Memory Requirements<a class="headerlink" href="#memory-requirements" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>Approximately 3-5 times the memory usage of PVS</p></li>
<li><p>Retention of large amounts of intermediate calculation results</p></li>
<li><p>Learning effects through accumulation of historical data</p></li>
</ul>
</section>
</section>
<section id="technical-comparison-with-pvs">
<h2>Technical Comparison with PVS<a class="headerlink" href="#technical-comparison-with-pvs" title="Permalink to this heading"></a></h2>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Feature</p></th>
<th class="head"><p>PVS</p></th>
<th class="head"><p>EDMS</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Data Structure</p></td>
<td><p>Simple</p></td>
<td><p>3-layer hierarchy</p></td>
</tr>
<tr class="row-odd"><td><p>Computational Complexity</p></td>
<td><p>O(n)</p></td>
<td><p>O(n²) ~ O(n³)</p></td>
</tr>
<tr class="row-even"><td><p>Memory Usage</p></td>
<td><p>Lightweight</p></td>
<td><p>Heavy (3-5x PVS)</p></td>
</tr>
<tr class="row-odd"><td><p>Processing Speed</p></td>
<td><p>Fast</p></td>
<td><p>Medium~Slow</p></td>
</tr>
<tr class="row-even"><td><p>Analysis Depth</p></td>
<td><p>Basic</p></td>
<td><p>Research-level</p></td>
</tr>
<tr class="row-odd"><td><p>Tactical Analysis</p></td>
<td><p>Not supported</p></td>
<td><p>Advanced support</p></td>
</tr>
<tr class="row-even"><td><p>Spatial Analysis</p></td>
<td><p>None</p></td>
<td><p>Voronoi diagram based</p></td>
</tr>
<tr class="row-odd"><td><p>Probability Modeling</p></td>
<td><p>None</p></td>
<td><p>Multivariate statistical model</p></td>
</tr>
<tr class="row-even"><td><p>Real-time Suitability</p></td>
<td><p>Optimal</p></td>
<td><p>Depends on computing resources</p></td>
</tr>
<tr class="row-odd"><td><p>Learning Curve</p></td>
<td><p>Easy</p></td>
<td><p>Steep</p></td>
</tr>
</tbody>
</table>
</section>
<section id="system-requirements">
<h2>System Requirements<a class="headerlink" href="#system-requirements" title="Permalink to this heading"></a></h2>
<section id="recommended-environment">
<h3>Recommended Environment<a class="headerlink" href="#recommended-environment" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p><strong>CPU</strong>: High-performance multi-core processor</p></li>
<li><p><strong>RAM</strong>: 16GB or more (32GB or more for large datasets)</p></li>
<li><p><strong>Storage</strong>: High-speed SSD (generates large amounts of intermediate files)</p></li>
</ul>
</section>
<section id="dependency-libraries">
<h3>Dependency Libraries<a class="headerlink" href="#dependency-libraries" title="Permalink to this heading"></a></h3>
<ul class="simple">
<li><p>NumPy/SciPy: Scientific computing</p></li>
<li><p>Pandas: Data processing</p></li>
<li><p>Scikit-learn: Machine learning algorithms</p></li>
<li><p>Computational geometry library: Voronoi diagram calculation</p></li>
<li><p>Statistical library: Probability model calculation</p></li>
</ul>
</section>
</section>
<section id="file-structure">
<h2>File Structure<a class="headerlink" href="#file-structure" title="Permalink to this heading"></a></h2>
<p>Main EDMS-related files:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">SAR_class.py</span></code>: Factory class for PVS/EDMS switching</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dataclass.py</span></code>: EDMS data class definitions (shared with PVS)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">preprocess_frame.py</span></code>: EDMS processing functions</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">soccer_SAR_state.py</span></code>: Main processing routing for EDMS</p></li>
</ul>
</section>
<section id="data-class-structure">
<h2>Data Class Structure<a class="headerlink" href="#data-class-structure" title="Permalink to this heading"></a></h2>
<p>EDMS consists of the following classes:</p>
<p><strong>Basic Classes:</strong>
* Position, Velocity: Position and velocity information
* Player, Ball: Player and ball information (shared with PVS)</p>
<p><strong>EDMS-specific Classes:</strong>
* OnBall: Detailed information during ball possession
* OffBall: Detailed information during non-ball possession
* RelativeState: OnBall + OffBall
* AbsoluteState: Formation, offside, etc.
* RawState: Basic position information (same structure as PVS State_PVS)
* State_EDMS: Integration of three state levels</p>
<p><strong>Event Classes:</strong>
* Event_EDMS: EDMS state + 2D action + reward
* Events_EDMS: Sequence management of multiple events</p>
</section>
<section id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this heading"></a></h2>
<p>EDMS is a three-layer structured state definition system that maintains the basic structure of PVS while having two additional layers: relative state (RelativeState) and absolute state (AbsoluteState).</p>
<p><strong>Key Features:</strong></p>
<ul class="simple">
<li><p>Provides detailed relative relationships and tactical information in addition to PVS basic information</p></li>
<li><p>Multi-faceted analysis indicators including spatial evaluation, time calculation, and tactical scores</p></li>
<li><p>Optimal for advanced soccer analysis and complex multi-agent learning</p></li>
</ul>
<p>Both systems share the same basic classes such as Player and Ball, enabling efficient soccer data analysis by appropriately selecting according to the intended use.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="PVS.html" class="btn btn-neutral float-left" title="PVS State Definition" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../../Example/index.html" class="btn btn-neutral float-right" title="Examples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024,  Openstarlab.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>